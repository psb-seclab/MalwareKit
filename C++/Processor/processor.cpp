#include <windows.h>
#include <iostream>
using namespace std;
#include <stdio.h>
#include <strsafe.h>

#pragma comment(lib, "User32.lib")

typedef void (WINAPI *PGNSI)(LPSYSTEM_INFO);
typedef BOOL (WINAPI *PGPI)(DWORD, DWORD, DWORD, DWORD, PDWORD);

char* GetProcessor()
{
   OSVERSIONINFOEX osvi;
   SYSTEM_INFO si;
   PGNSI pGNSI;
   PGPI pGPI;
   BOOL bOsVersionInfoEx;

   ZeroMemory(&si, sizeof(SYSTEM_INFO));
   ZeroMemory(&osvi, sizeof(OSVERSIONINFOEX));

   osvi.dwOSVersionInfoSize = sizeof(OSVERSIONINFOEX);
   bOsVersionInfoEx = GetVersionEx((OSVERSIONINFO*) &osvi);

   if( ! bOsVersionInfoEx ) return "Not Determined";

   pGNSI = (PGNSI) GetProcAddress(GetModuleHandle(TEXT("kernel32.dll")), "GetNativeSystemInfo");
   if(NULL != pGNSI)
      pGNSI(&si);
   else GetSystemInfo(&si);

   if ( VER_PLATFORM_WIN32_NT==osvi.dwPlatformId && osvi.dwMajorVersion > 4 ){
      if ( osvi.dwMajorVersion >= 6 ){
         if ( si.wProcessorArchitecture==PROCESSOR_ARCHITECTURE_AMD64 )
            return "64-bit";
         else if (si.wProcessorArchitecture==PROCESSOR_ARCHITECTURE_INTEL )
            return "32-bit";
      }else
        return "32-bit"; 
   }
   return "Not Determined";
}

int main()
{
    printf(GetProcessor());
}